<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Maxminddb" rel="Chapter" href="Maxminddb.html"><title>Maxminddb</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;</div>
<h1>Module <a href="type_Maxminddb.html">Maxminddb</a></h1>

<pre><span class="keyword">module</span> Maxminddb: <code class="code">sig</code> <a href="Maxminddb.html">..</a> <code class="code">end</code></pre><div class="info module top">
Maxmind is a binding to libmaxminddb with some higher level
    functionality on the OCaml side. Be aware that operations with the
    C side are liable to raise exceptions<br>
</div>
<hr width="100%">

<pre><span id="TYPEmmdb"><span class="keyword">type</span> <code class="type"></code>mmdb</span> </pre>
<div class="info ">
Abstract type representing the C side pointer to a mmdb database
    in memory<br>
</div>


<pre><code><span id="TYPElocation"><span class="keyword">type</span> <code class="type"></code>location</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.latitude">latitude</span>&nbsp;: <code class="type">float</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.longitude">longitude</span>&nbsp;: <code class="type">float</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.metro_code">metro_code</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.time_zone">time_zone</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr></table>
}

<div class="info ">
Type representing physical location data<br>
</div>


<pre><code><span id="TYPEborders"><span class="keyword">type</span> <code class="type"></code>borders</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTborders.postal_code">postal_code</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTborders.city_name">city_name</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTborders.country_name">country_name</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTborders.continent_name">continent_name</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTborders.iso_code">iso_code</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr></table>
}

<div class="info ">
Type representing political borders of an IP address<br>
</div>


<pre><code><span id="TYPElanguages"><span class="keyword">type</span> <code class="type"></code>languages</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.German"><span class="constructor">German</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.English"><span class="constructor">English</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.Spanish"><span class="constructor">Spanish</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.French"><span class="constructor">French</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.Japanese"><span class="constructor">Japanese</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.Brazilian"><span class="constructor">Brazilian</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.Russian"><span class="constructor">Russian</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlanguages.Chinese"><span class="constructor">Chinese</span></span></code></td>

</tr></table>

<div class="info ">
Languages that Maxmindb DB knows for paths ending in string
    queries, note that not all queries support all languages<br>
</div>


<pre><span id="TYPEquery_r"><span class="keyword">type</span> <code class="type"></code>query_r</span> = <code class="type">[ `Bool of bool | `Float of float | `Int of int | `String of string ]</code> </pre>
<div class="info ">
Result of a query, mostly relevant if you are doing it by hand
    with calls to lookup_path<br>
</div>


<pre><span id="VALversion"><span class="keyword">val</span> version</span> : <code class="type">unit -> string</code></pre><div class="info ">
Get version string of Maxminddb<br>
</div>

<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">path:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a></code></pre><div class="info ">
Create a handle on a mmdb descriptor based off a .mmdb database
    file. Maxminddb comes with City, Country databases in etc<br>
</div>

<pre><span id="VALdump"><span class="keyword">val</span> dump</span> : <code class="type">?ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> string</code></pre><div class="info ">
Dumps the database as a string; if ip is provided then dumps the
    database for this particular ip address, if no ip provided then
    dumps Metainformation about the database itself. Note that you
    should do not depend on this structure: it is not JSON, just looks
    like it.<br>
</div>

<pre><span id="VALlookup_path"><span class="keyword">val</span> lookup_path</span> : <code class="type">ip:string -> query:string list -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> <a href="Maxminddb.html#TYPEquery_r">query_r</a></code></pre><div class="info ">
For a given ip address, think 127.0.0.1, query path and mmdb
    handle, get the result. Note path must be safe, look at dump
    first<br>
</div>

<pre><span id="VALpostal_code"><span class="keyword">val</span> postal_code</span> : <code class="type">ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> string</code></pre><div class="info ">
Short cut function for getting postal code from ip address<br>
</div>

<pre><span id="VALcity_name"><span class="keyword">val</span> city_name</span> : <code class="type">?lang:<a href="Maxminddb.html#TYPElanguages">languages</a> -> ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> string</code></pre><div class="info ">
Short cut function for getting a city name from ip address<br>
</div>

<pre><span id="VALcountry_name"><span class="keyword">val</span> country_name</span> : <code class="type">?lang:<a href="Maxminddb.html#TYPElanguages">languages</a> -> ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> string</code></pre><div class="info ">
Short cut function for getting a country name from ip address<br>
</div>

<pre><span id="VALcontinent_name"><span class="keyword">val</span> continent_name</span> : <code class="type">?lang:<a href="Maxminddb.html#TYPElanguages">languages</a> -> ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> string</code></pre><div class="info ">
Short cut function for getting a continent name from ip address<br>
</div>

<pre><span id="VALlocation"><span class="keyword">val</span> location</span> : <code class="type">ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> <a href="Maxminddb.html#TYPElocation">location</a></code></pre><div class="info ">
Short cut function for getting a record of physical location
    information<br>
</div>

<pre><span id="VALiso_code"><span class="keyword">val</span> iso_code</span> : <code class="type">ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> string</code></pre><div class="info ">
ISO code for Country of ip address<br>
</div>

<pre><span id="VALborders"><span class="keyword">val</span> borders</span> : <code class="type">?lang:<a href="Maxminddb.html#TYPElanguages">languages</a> -> ip:string -> <a href="Maxminddb.html#TYPEmmdb">mmdb</a> -> <a href="Maxminddb.html#TYPEborders">borders</a></code></pre><div class="info ">
Shortcut providing top level geographical information<br>
</div>
</body></html>